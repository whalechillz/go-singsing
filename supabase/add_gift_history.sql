-- 선물 발송 이력 추가
-- 골프장 연락처 먼저 추가

-- 영광 웨스트 오션 골프장 연락처 추가
INSERT INTO golf_course_contacts (golf_course_name, contact_name, position, phone, mobile, email, notes) VALUES
('영광 웨스트 오션', '대표', '대표', '061-000-0000', NULL, NULL, '영광 웨스트 오션 골프장 대표'),
('영광 웨스트 오션', '박미진', '팀장', NULL, '010-0000-0000', NULL, '팀장 - 선물 발송 대상')
ON CONFLICT DO NOTHING;

-- 세븐힐스 골프장 연락처 추가 (세븐벨리로 추정)
INSERT INTO golf_course_contacts (golf_course_name, contact_name, position, phone, mobile, email, notes) VALUES
('세븐힐스', '대표', '대표', '061-000-0001', NULL, NULL, '세븐힐스 골프장 대표')
ON CONFLICT DO NOTHING;

-- 싱싱골프 스탭 연락처 추가
INSERT INTO golf_course_contacts (golf_course_name, contact_name, position, phone, mobile, email, notes) VALUES
('싱싱골프', '유중현', '스탭', NULL, '010-0000-0002', NULL, '싱싱골프 스탭'),
('싱싱골프', '박주희', '스탭', NULL, '010-0000-0003', NULL, '싱싱골프 스탭'),
('싱싱골프', '신정란', '스탭', NULL, '010-0000-0004', NULL, '싱싱골프 스탭'),
('싱싱골프', '김성팔', '스탭', NULL, '010-0000-0005', NULL, '싱싱골프 스탭')
ON CONFLICT DO NOTHING;

-- 선물 발송 이력 추가
INSERT INTO gift_sending_history (
  golf_course_contact_id,
  occasion,
  gift_type,
  gift_amount,
  quantity,
  sent_date,
  sent_by,
  notes
) 
SELECT 
  gc.id,
  CASE 
    WHEN '2023-01-27' = '2023-01-27' THEN '일반'
    WHEN '2023-08-17' = '2023-08-17' THEN '일반'
    WHEN '2023-09-25' = '2023-09-25' THEN '추석'
    WHEN '2024-02-06' = '2024-02-06' THEN '일반'
    WHEN '2024-02-07' = '2024-02-07' THEN '설날'
    WHEN '2024-09-10' = '2024-09-10' THEN '일반'
    WHEN '2024-09-11' = '2024-09-11' THEN '추석'
    WHEN '2025-01-21' = '2025-01-21' THEN '설날'
    WHEN '2025-10-02' = '2025-10-02' THEN '추석'
    ELSE '일반'
  END,
  gift_type,
  gift_amount,
  quantity,
  sent_date::DATE,
  '관리자',
  notes
FROM (
  VALUES 
    -- 2023년 1월 27일: 마카롱12구, 거래처 베넷핏, 36000원, 영광 웨스트 오션/박미진 팀장
    ('영광 웨스트 오션', '박미진', '마카롱 12구', 36000, 1, '2023-01-27', '영광 웨스트 오션/박미진 팀장'),
    
    -- 2023년 8월 17일: 상품권, 거래처 베네핏, 50000원, 세븐벨리(5만원*1개, 3만원*4개), 스타벅스
    ('세븐힐스', '대표', '스타벅스 상품권', 50000, 1, '2023-08-17', '세븐벨리(5만원*1개, 3만원*4개)'),
    
    -- 2023년 9월 25일: 상품권, 거래처 베네핏, 180000원, 영덕 5명, 순천 4명(2만원*9개), 스타벅스
    ('영덕 오션비치', '대표', '스타벅스 상품권', 180000, 9, '2023-09-25', '영덕 5명, 순천 4명(2만원*9개)'),
    
    -- 2024년 2월 6일: 상품권, 버스팀, 60000원, 유중현, 박주희, 스타벅스
    ('싱싱골프', '유중현', '스타벅스 상품권', 30000, 1, '2024-02-06', '버스팀'),
    ('싱싱골프', '박주희', '스타벅스 상품권', 30000, 1, '2024-02-06', '버스팀'),
    
    -- 2024년 2월 7일: 상품권, 설선물, 270000원, 영덕 5명, 순천 4명(3만원*9개), 스타벅스
    ('영덕 오션비치', '대표', '스타벅스 상품권', 270000, 9, '2024-02-07', '영덕 5명, 순천 4명(3만원*9개)'),
    
    -- 2024년 9월 10일: 상품권(스벅3만원*2), 버스팀, 60000원, 김성팔, 신정란, 스타벅스
    ('싱싱골프', '김성팔', '스타벅스 상품권', 30000, 1, '2024-09-10', '버스팀'),
    ('싱싱골프', '신정란', '스타벅스 상품권', 30000, 1, '2024-09-10', '버스팀'),
    
    -- 2024년 9월 11일: 상품권(스벅3만원*9), 추석선물, 270000원, 순천4명, 영덕5명(3만원*9개), 스타벅스
    ('순천 파인힐스', '대표', '스타벅스 상품권', 270000, 9, '2024-09-11', '순천4명, 영덕5명(3만원*9개)'),
    
    -- 2025년 1월 21일: 상품권(스벅3만원*9), 설선물, 270000원, 순천, 스타벅스
    ('순천 파인힐스', '대표', '스타벅스 상품권', 270000, 9, '2025-01-21', '순천'),
    
    -- 2025년 10월 2일: 상품권(스벅3만원*10), 추석선물, 300000원, 영덕5명, 순천5명, 스타벅스
    ('영덕 오션비치', '대표', '스타벅스 상품권', 300000, 10, '2025-10-02', '영덕5명, 순천5명')
) AS gifts(golf_course_name, contact_name, gift_type, gift_amount, quantity, sent_date, notes)
JOIN golf_course_contacts gc ON gc.golf_course_name = gifts.golf_course_name AND gc.contact_name = gifts.contact_name;
