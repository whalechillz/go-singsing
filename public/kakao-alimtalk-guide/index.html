<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>싱싱골프 카카오 알림톡 템플릿 등록 가이드</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🔔 싱싱골프 카카오 알림톡 템플릿 등록 가이드</h1>
            <p class="subtitle">솔라피(Solapi)를 통한 카카오 알림톡 템플릿 등록 및 관리 방법</p>
        </header>

        <nav class="toc">
            <h2>목차</h2>
            <ul>
                <li><a href="#overview">1. 개요</a></li>
                <li><a href="#templates">2. 템플릿 종류</a></li>
                <li><a href="#registration">3. 템플릿 등록 절차</a></li>
                <li><a href="#image-guide">4. 이미지 제작 가이드</a></li>
                <li><a href="#button-setup">5. 버튼 설정 방법</a></li>
                <li><a href="#code-integration">6. 코드 연동 방법</a></li>
                <li><a href="#troubleshooting">7. 문제 해결</a></li>
            </ul>
        </nav>

        <main>
            <section id="overview">
                <h2>1. 개요</h2>
                <div class="content-box">
                    <h3>시스템 정보</h3>
                    <ul>
                        <li><strong>플랫폼:</strong> 솔라피(Solapi)</li>
                        <li><strong>카카오 채널:</strong> 싱싱골프</li>
                        <li><strong>PFID:</strong> KA01PF250616100116116JGCMFKunkh</li>
                        <li><strong>템플릿 심사 기간:</strong> 1-2일</li>
                    </ul>
                </div>
            </section>

            <section id="templates">
                <h2>2. 템플릿 종류</h2>
                <div class="info-box">
                    <h3>📋 템플릿 분류 기준</h3>
                    <ul>
                        <li><strong>통합표지:</strong> "종합" 키워드 사용 (예: 종합 여정 안내)</li>
                        <li><strong>고객용:</strong> 일반 명칭 사용 (예: 일정표 안내)</li>
                        <li><strong>스탭용:</strong> "스탭용" 추가 (예: 스탭용 일정표)</li>
                    </ul>
                </div>
                <div class="template-grid">
                    <div class="template-card">
                        <h3>📑 종합 여정 안내</h3>
                        <div class="template-content">
                            <p><strong>용도:</strong> 통합표지 (Portal)</p>
                            <p><strong>URL:</strong> /portal/#{url}</p>
                            <p><strong>아이콘:</strong> grid-3x3</p>
                            <p><strong>텍스트:</strong> 종합여정</p>
                        </div>
                    </div>
                    <div class="template-card">
                        <h3>📅 일정표 안내</h3>
                        <div class="template-content">
                            <p><strong>용도:</strong> 고객용 일정표</p>
                            <p><strong>URL:</strong> /s/#{url}</p>
                            <p><strong>아이콘:</strong> calendar-days</p>
                            <p><strong>텍스트:</strong> 일정표</p>
                        </div>
                    </div>
                    <div class="template-card">
                        <h3>🚌 탑승 안내</h3>
                        <div class="template-content">
                            <p><strong>용도:</strong> 고객용 탑승정보</p>
                            <p><strong>URL:</strong> /s/#{url}</p>
                            <p><strong>아이콘:</strong> bus</p>
                            <p><strong>텍스트:</strong> 탑승안내</p>
                        </div>
                    </div>
                    <div class="template-card">
                        <h3>🏨 객실 배정</h3>
                        <div class="template-content">
                            <p><strong>용도:</strong> 고객용 숙소안내</p>
                            <p><strong>URL:</strong> /s/#{url}</p>
                            <p><strong>아이콘:</strong> bed</p>
                            <p><strong>텍스트:</strong> 객실배정</p>
                        </div>
                    </div>
                    <div class="template-card">
                        <h3>⛳ 티타임표 안내</h3>
                        <div class="template-content">
                            <p><strong>용도:</strong> 고객용 골프일정</p>
                            <p><strong>URL:</strong> /s/#{url}</p>
                            <p><strong>아이콘:</strong> flag</p>
                            <p><strong>텍스트:</strong> 티타임표</p>
                        </div>
                    </div>
                    <div class="template-card">
                        <h3>📋 간편일정 안내</h3>
                        <div class="template-content">
                            <p><strong>용도:</strong> 요약 일정</p>
                            <p><strong>URL:</strong> /s/#{url}</p>
                            <p><strong>아이콘:</strong> layout-template</p>
                            <p><strong>텍스트:</strong> 간편일정</p>
                        </div>
                    </div>
                </div>
                <div class="note-box">
                    <p><strong>참고:</strong> 각 템플릿은 고객용/스탭용으로 분리 등록 가능합니다.</p>
                </div>

                <div class="code-example">
                    <h4>템플릿 내용 (공통)</h4>
                    <pre><code>[싱싱골프] #{투어명} 문서 안내

안녕하세요 #{이름}님,
#{투어명} 관련 문서를 안내드립니다.

궁금하신 점은 언제든 문의주세요.
☎ 031-215-3990</code></pre>
                </div>
            </section>

            <section id="registration">
                <h2>3. 템플릿 등록 절차</h2>
                <div class="step-guide">
                    <div class="step">
                        <span class="step-number">1</span>
                        <h4>솔라피 콘솔 접속</h4>
                        <p>console.solapi.com 접속 후 로그인</p>
                    </div>
                    <div class="step">
                        <span class="step-number">2</span>
                        <h4>템플릿 관리 메뉴</h4>
                        <p>카카오 채널 → 템플릿 관리 → 알림톡 템플릿 생성</p>
                    </div>
                    <div class="step">
                        <span class="step-number">3</span>
                        <h4>템플릿 유형 선택</h4>
                        <p>버튼형 선택 (웹링크 버튼 포함)</p>
                    </div>
                    <div class="step">
                        <span class="step-number">4</span>
                        <h4>템플릿 내용 입력</h4>
                        <p>템플릿명, 내용, 버튼 설정</p>
                    </div>
                    <div class="step">
                        <span class="step-number">5</span>
                        <h4>변수 등록</h4>
                        <p>#{이름}, #{투어명}, #{url} 변수 추가</p>
                    </div>
                    <div class="step">
                        <span class="step-number">6</span>
                        <h4>이미지 업로드</h4>
                        <p>800×400px PNG 파일 업로드</p>
                    </div>
                    <div class="step">
                        <span class="step-number">7</span>
                        <h4>심사 신청</h4>
                        <p>템플릿 등록 완료 클릭</p>
                    </div>
                </div>
            </section>

            <section id="image-guide">
                <h2>4. 이미지 제작 가이드</h2>
                <div class="content-box">
                    <h3>이미지 규격</h3>
                    <ul>
                        <li><strong>크기:</strong> 800×400px (2:1 비율)</li>
                        <li><strong>형식:</strong> PNG, JPG</li>
                        <li><strong>용량:</strong> 최대 500KB</li>
                        <li><strong>배경색:</strong> #4B5BFF (싱싱골프 브랜드 컬러)</li>
                        <li><strong>텍스트색:</strong> #FFFFFF (흰색)</li>
                    </ul>

                    <h3>Figma 제작 방법</h3>
                    <ol>
                        <li>800×400px 프레임 생성</li>
                        <li>배경색 #4B5BFF 설정</li>
                        <li>Iconify 플러그인에서 아이콘 검색
                            <ul>
                                <li>문서 안내: "document" 검색</li>
                                <li>통합 안내: "layout" 또는 "dashboard" 검색</li>
                            </ul>
                        </li>
                        <li>아이콘 색상 흰색(#FFFFFF)으로 변경</li>
                        <li>텍스트 추가 (폰트: Pretendard 또는 Noto Sans KR)</li>
                        <li>PNG로 Export</li>
                    </ol>
                </div>
            </section>

            <section id="button-setup">
                <h2>5. 버튼 설정 방법</h2>
                <div class="content-box">
                    <h3>버튼 추가 설정</h3>
                    <table class="setting-table">
                        <tr>
                            <th>항목</th>
                            <th>문서 안내</th>
                            <th>통합 안내</th>
                        </tr>
                        <tr>
                            <td>버튼 종류</td>
                            <td>웹링크(WL)</td>
                            <td>웹링크(WL)</td>
                        </tr>
                        <tr>
                            <td>버튼명</td>
                            <td>📄 문서 확인하기</td>
                            <td>📊 통합 문서 보기</td>
                        </tr>
                        <tr>
                            <td>모바일링크</td>
                            <td>https://go.singsinggolf.kr/s/#{url}</td>
                            <td>https://go.singsinggolf.kr/portal/#{url}</td>
                        </tr>
                        <tr>
                            <td>PC링크</td>
                            <td>https://go.singsinggolf.kr/s/#{url}</td>
                            <td>https://go.singsinggolf.kr/portal/#{url}</td>
                        </tr>
                        <tr>
                            <td>외부 브라우저</td>
                            <td>✅ 체크</td>
                            <td>✅ 체크</td>
                        </tr>
                    </table>

                    <div class="warning-box">
                        <h4>⚠️ 주의사항</h4>
                        <ul>
                            <li>버튼명에는 변수를 넣지 않고 고정 텍스트 사용</li>
                            <li>링크는 https://로 시작해야 함</li>
                            <li>변수는 #{url} 형식으로 통일</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="code-integration">
                <h2>6. 코드 연동 방법</h2>
                <div class="code-example">
                    <h3>백엔드 코드 수정</h3>
                    <p><strong>파일:</strong> /app/api/messages/send-document/route.ts</p>
                    <pre><code>// 템플릿 ID 설정
const TEMPLATE_ID = "KA01TP..."; // 솔라피에서 발급받은 템플릿 ID

// 카카오 알림톡 발송
if (sendMethod === "kakao" && SOLAPI_PFID && TEMPLATE_ID) {
    message.type = "ATA";
    message.kakaoOptions = {
        pfId: SOLAPI_PFID,
        templateId: TEMPLATE_ID,
        disableSms: false // 실패 시 SMS로 대체 발송
    };
}</code></pre>
                </div>

                <div class="code-example">
                    <h3>환경 변수 설정</h3>
                    <p><strong>Vercel 환경 변수:</strong></p>
                    <pre><code>SOLAPI_API_KEY=your_api_key
SOLAPI_API_SECRET=your_api_secret
SOLAPI_PFID=KA01PF250616100116116JGCMFKunkh</code></pre>
                </div>
            </section>

            <section id="troubleshooting">
                <h2>7. 문제 해결</h2>
                <div class="faq">
                    <details>
                        <summary>템플릿 심사가 거부되었어요</summary>
                        <div class="answer">
                            <ul>
                                <li>변수명이 정확히 등록되었는지 확인</li>
                                <li>이미지 규격이 맞는지 확인 (800×400px)</li>
                                <li>전화번호 형식이 올바른지 확인</li>
                                <li>광고성 문구가 포함되지 않았는지 확인</li>
                            </ul>
                        </div>
                    </details>
                    
                    <details>
                        <summary>카카오 알림톡이 발송되지 않아요</summary>
                        <div class="answer">
                            <ul>
                                <li>템플릿 ID가 코드에 정확히 입력되었는지 확인</li>
                                <li>SOLAPI_PFID 환경 변수가 설정되었는지 확인</li>
                                <li>템플릿 심사가 완료되었는지 확인</li>
                                <li>콘솔에서 오류 로그 확인</li>
                            </ul>
                        </div>
                    </details>
                    
                    <details>
                        <summary>SMS로만 발송돼요</summary>
                        <div class="answer">
                            <ul>
                                <li>프론트엔드에서 sendMethod가 "kakao"로 설정되었는지 확인</li>
                                <li>백엔드에서 TEMPLATE_ID가 빈 문자열이 아닌지 확인</li>
                                <li>카카오톡 수신 동의한 번호인지 확인</li>
                            </ul>
                        </div>
                    </details>
                </div>
            </section>
        </main>

        <footer>
            <p>최종 업데이트: 2025년 6월 20일</p>
            <p>문의: 개발팀 (dev@singsinggolf.kr)</p>
        </footer>
    </div>
</body>
</html>